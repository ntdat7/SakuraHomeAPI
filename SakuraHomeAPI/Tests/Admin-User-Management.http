@baseUrl = https://localhost:8080/api
@adminToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxZGJkOTljMC1iMzI5LTRmNWMtOTM1Ny1mMTFhYWNiYmI1NmMiLCJlbWFpbCI6ImFkbWluQHNha3VyYWhvbWUuY29tIiwidW5pcXVlX25hbWUiOiJBZG1pbiBTeXN0ZW0iLCJyb2xlIjoiU3VwZXJBZG1pbiIsImZpcnN0TmFtZSI6IkFkbWluIiwibGFzdE5hbWUiOiJTeXN0ZW0iLCJ0aWVyIjoiQnJvbnplIiwic3RhdHVzIjoiQWN0aXZlIiwiZW1haWxWZXJpZmllZCI6IlRydWUiLCJwaG9uZVZlcmlmaWVkIjoiRmFsc2UiLCJwb2ludHMiOiIwIiwidG90YWxTcGVudCI6IjAuMDAiLCJwcmVmZXJyZWRMYW5ndWFnZSI6InZpIiwicHJlZmVycmVkQ3VycmVuY3kiOiJWTkQiLCJqdGkiOiJkNzZmYzFmMi04MmIzLTQzODUtYjA1ZS03YTkzOTI1OWQwYTciLCJpYXQiOjE3NjIwMDc3MTMsImdlbmRlciI6IlVua25vd24iLCJuYmYiOjE3NjIwMDc3MTMsImV4cCI6MTc2MjAxMTMxMywiaXNzIjoiU2FrdXJhSG9tZUFQSSIsImF1ZCI6IlNha3VyYUhvbWVVc2VycyJ9.fNAhiFSKhfYnvUAXZy32d9onetKYiHnmYIzNUhE5uzQ

### =============================================================
### SAKURA HOME API - ADMIN USER MANAGEMENT TEST SUITE
### =============================================================
#
# 📋 MỤC LỤC:
# 1. AUTHENTICATION - Đăng nhập Admin
# 2. CHECK EMAIL & CCCD - Kiểm tra tính khả dụng
# 3. CREATE USER - Tạo người dùng mới (Customer, Staff, Admin)
# 4. GET USERS - Lấy danh sách người dùng
# 5. GET USER DETAIL - Xem chi tiết người dùng
# 6. UPDATE USER - Cập nhật thông tin người dùng
# 7. USER STATUS - Quản lý trạng thái người dùng
# 8. DELETE USER - Xóa người dùng
# 9. USER STATISTICS - Thống kê người dùng
# 10. USER ACTIONS - Reset password, Unlock, Verify
# 11. VALIDATION TESTS - Kiểm tra validation
# 12. ERROR HANDLING - Kiểm tra xử lý lỗi
#
### =============================================================

### =============================================================
### 1. AUTHENTICATION - ĐĂNG NHẬP ADMIN
### =============================================================

### 1.1 Đăng nhập với tài khoản Admin
# @name adminLogin
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "admin@sakurahome.com",
  "password": "Admin123!",
  "rememberMe": true
}

### 1.2 Đăng nhập với tài khoản SuperAdmin
# @name superAdminLogin
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "superadmin@sakurahome.com",
  "password": "SuperAdmin123!",
  "rememberMe": true
}

### =============================================================
### 2. CHECK EMAIL & CCCD - KIỂM TRA TÍNH KHẢ DỤNG
### =============================================================

### 2.1 Kiểm tra email đã tồn tại
# @name checkExistingEmail
GET {{baseUrl}}/admin/users/check-email?email=admin@sakurahome.com
Authorization: Bearer {{adminToken}}

### 2.2 Kiểm tra email chưa tồn tại (có thể sử dụng)
# @name checkAvailableEmail
GET {{baseUrl}}/admin/users/check-email?email=newuser@sakurahome.com
Authorization: Bearer {{adminToken}}

### 2.3 Kiểm tra email không hợp lệ (validation error)
# @name checkInvalidEmail
GET {{baseUrl}}/admin/users/check-email?email=invalid-email
Authorization: Bearer {{adminToken}}

### 2.4 Kiểm tra CCCD đã tồn tại
# @name checkExistingCCCD
GET {{baseUrl}}/admin/users/check-cccd?nationalIdCard=123456789012
Authorization: Bearer {{adminToken}}

### 2.5 Kiểm tra CCCD chưa tồn tại (có thể sử dụng)
# @name checkAvailableCCCD
GET {{baseUrl}}/admin/users/check-cccd?nationalIdCard=999888777666
Authorization: Bearer {{adminToken}}

### =============================================================
### 3. CREATE USER - TẠO NGƯỜI DÙNG MỚI
### =============================================================

### 3.1 Tạo Customer mới - Thông tin đầy đủ
# @name createCustomerFull
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Nguyễn",
  "lastName": "Văn A",
  "email": "customer1@example.com",
  "password": "Customer123!",
  "phoneNumber": "+84901234567",
  "dateOfBirth": "1990-05-15",
  "gender": 1,
  "role": 1,
  "tier": 1,
  "initialPoints": 100,
  "initialSpent": 1000000,
  "preferredLanguage": "vi",
  "preferredCurrency": "VND",
  "emailNotifications": true,
  "smsNotifications": true,
  "pushNotifications": true,
  "isActive": true,
  "status": 1
}

### 3.2 Tạo Customer mới - Thông tin tối thiểu
# @name createCustomerMinimal
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Trần",
  "lastName": "Thị B",
  "email": "customer2@example.com",
  "password": "Customer123!",
  "role": 1
}

### 3.3 Tạo Staff mới - Với thông tin nhân viên
# @name createStaff
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Lê",
  "lastName": "Thị A",
  "email": "staff2@sakurahome.com",
  "password": "0000",
  "phoneNumber": "+84902345212",
  "dateOfBirth": "1985-08-20",
  "gender": 1,
  "role": 2,
  "nationalIdCard": "1234567890121212",
  "hireDate": "2024-01-01",
  "baseSalary": 15000000,
  "preferredLanguage": "vi",
  "preferredCurrency": "VND",
  "isActive": true,
  "status": 1
}

### 3.4 Tạo Admin mới - Với quyền quản trị
# @name createAdmin
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Phạm",
  "lastName": "Thị D",
  "email": "admin2@sakurahome.com",
  "password": "Admin123!",
  "phoneNumber": "+84903456789",
  "dateOfBirth": "1988-12-10",
  "gender": 2,
  "role": 3,
  "nationalIdCard": "234567890123",
  "hireDate": "2023-06-15",
  "baseSalary": 25000000,
  "preferredLanguage": "vi",
  "preferredCurrency": "VND",
  "isActive": true,
  "status": 1
}

### 3.5 Tạo SuperAdmin mới
# @name createSuperAdmin
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Hoàng",
  "lastName": "Văn E",
  "email": "superadmin2@sakurahome.com",
  "password": "SuperAdmin123!",
  "phoneNumber": "+84904567890",
  "dateOfBirth": "1980-03-25",
  "gender": 1,
  "role": 4,
  "nationalIdCard": "345678901234",
  "hireDate": "2023-01-01",
  "baseSalary": 40000000,
  "preferredLanguage": "vi",
  "preferredCurrency": "VND",
  "isActive": true,
  "status": 1
}

### 3.6 Tạo user với avatar
# @name createUserWithAvatar
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Vũ",
  "lastName": "Thị F",
  "email": "customer3@example.com",
  "password": "Customer123!",
  "phoneNumber": "+84905678901",
  "gender": 2,
  "role": 1,
  "avatar": "https://example.com/avatars/user-f.jpg",
  "tier": 2,
  "initialPoints": 500,
  "initialSpent": 5000000
}

### =============================================================
### 4. GET USERS - LẤY DANH SÁCH NGƯỜI DÙNG
### =============================================================

### 4.1 Lấy tất cả users - Trang 1
# @name getUsersPage1
GET {{baseUrl}}/admin/users/list?pageNumber=1&pageSize=10
Authorization: Bearer {{adminToken}}

### 4.2 Lấy users theo role - Chỉ Customers
# @name getUsersCustomers
GET {{baseUrl}}/admin/users/list?role=1&pageNumber=1&pageSize=20
Authorization: Bearer {{adminToken}}

### 4.3 Lấy users theo role - Chỉ Staff
# @name getUsersStaff
GET {{baseUrl}}/admin/users/list?role=2&pageNumber=1&pageSize=20
Authorization: Bearer {{adminToken}}

### 4.4 Lấy users theo role - Chỉ Admin
# @name getUsersAdmin
GET {{baseUrl}}/admin/users/list?role=3&pageNumber=1&pageSize=20
Authorization: Bearer {{adminToken}}

### 4.5 Lấy users theo status - Chỉ Active
# @name getUsersActive
GET {{baseUrl}}/admin/users/list?isActive=true&pageNumber=1&pageSize=20
Authorization: Bearer {{adminToken}}

### 4.6 Lấy users theo status - Chỉ Inactive
# @name getUsersInactive
GET {{baseUrl}}/admin/users/list?isActive=false&pageNumber=1&pageSize=20
Authorization: Bearer {{adminToken}}

### 4.7 Tìm kiếm users theo keyword
# @name searchUsers
GET {{baseUrl}}/admin/users/list?searchTerm=Nguyen&pageNumber=1&pageSize=20
Authorization: Bearer {{adminToken}}

### 4.8 Kết hợp nhiều filter
# @name getUsersMultipleFilters
GET {{baseUrl}}/admin/users/list?role=1&isActive=true&searchTerm=customer&pageNumber=1&pageSize=10
Authorization: Bearer {{adminToken}}

### 4.9 Lấy users với page size lớn
# @name getUsersLargePageSize
GET {{baseUrl}}/admin/users/list?pageNumber=1&pageSize=50
Authorization: Bearer {{adminToken}}

### =============================================================
### 5. GET USER DETAIL - XEM CHI TIẾT NGƯỜI DÙNG
### =============================================================

### 5.1 Xem chi tiết user theo ID (thay YOUR_USER_ID bằng ID thực tế)
# @name getUserDetail
GET {{baseUrl}}/admin/users/77d0888e-e8e1-4408-b2e8-f3d716bb61b9/detail
Authorization: Bearer {{adminToken}}

### 5.2 Xem chi tiết customer
# @name getCustomerDetail
GET {{baseUrl}}/admin/users/CUSTOMER_USER_ID/detail
Authorization: Bearer {{adminToken}}

### 5.3 Xem chi tiết staff
# @name getStaffDetail
GET {{baseUrl}}/admin/users/STAFF_USER_ID/detail
Authorization: Bearer {{adminToken}}

### =============================================================
### 6. UPDATE USER - CẬP NHẬT THÔNG TIN NGƯỜI DÙNG
### =============================================================

### 6.1 Cập nhật thông tin cơ bản
# @name updateBasicInfo
PUT {{baseUrl}}/admin/users/77d0888e-e8e1-4408-b2e8-f3d716bb61b9/update
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Nguyễn",
  "lastName": "Văn A (Updated)",
  "phoneNumber": "+84901234568",
  "gender": 1
}

### 6.2 Cập nhật role của user
# @name updateUserRole
PUT {{baseUrl}}/admin/users/USER_ID/update
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "role": 2
}

### 6.3 Cập nhật thông tin nhân viên
# @name updateEmployeeInfo
PUT {{baseUrl}}/admin/users/USER_ID/update
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "nationalIdCard": "123456789099",
  "baseSalary": 18000000,
  "hireDate": "2024-02-01"
}

### 6.4 Cập nhật tier cho customer
# @name updateCustomerTier
PUT {{baseUrl}}/admin/users/77d0888e-e8e1-4408-b2e8-f3d716bb61b9/update
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "tier": 3
}

### 6.5 Cập nhật status
# @name updateUserStatus
PUT {{baseUrl}}/admin/users/USER_ID/update
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "status": 1,
  "isActive": true
}

### 6.6 Cập nhật avatar
# @name updateUserAvatar
PUT {{baseUrl}}/admin/users/USER_ID/update
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "avatar": "https://example.com/avatars/new-avatar.jpg"
}

### =============================================================
### 7. USER STATUS - QUẢN LÝ TRẠNG THÁI NGƯỜI DÙNG
### =============================================================

### 7.1 Kích hoạt user (Active)
# @name activateUser
PATCH {{baseUrl}}/admin/users/77d0888e-e8e1-4408-b2e8-f3d716bb61b9/status
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "isActive": true
}

### 7.2 Vô hiệu hóa user (Inactive)
# @name deactivateUser
PATCH {{baseUrl}}/admin/users/77d0888e-e8e1-4408-b2e8-f3d716bb61b9/status
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "isActive": false
}

### 7.3 Toggle user status
# @name toggleUserStatus
PATCH {{baseUrl}}/admin/users/USER_ID/toggle
Authorization: Bearer {{adminToken}}

### =============================================================
### 8. DELETE USER - XÓA NGƯỜI DÙNG
### =============================================================

### 8.1 Soft delete user
# @name deleteUser
DELETE {{baseUrl}}/admin/users/77d0888e-e8e1-4408-b2e8-f3d716bb61b9/delete
Authorization: Bearer {{adminToken}}

### 8.2 Delete customer
# @name deleteCustomer
DELETE {{baseUrl}}/admin/users/CUSTOMER_USER_ID/delete
Authorization: Bearer {{adminToken}}

### =============================================================
### 9. USER STATISTICS - THỐNG KÊ NGƯỜI DÙNG
### =============================================================

### 9.1 Lấy thống kê tổng quan người dùng
# @name getUserStats
GET {{baseUrl}}/admin/users/stats
Authorization: Bearer {{adminToken}}

### =============================================================
### 10. USER ACTIONS - RESET PASSWORD, UNLOCK, VERIFY
### =============================================================

### 10.1 Reset password cho user
# @name resetUserPassword
POST {{baseUrl}}/admin/users/USER_ID/reset-password
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "newPassword": "NewPassword123!"
}

### 10.2 Unlock user account
# @name unlockUser
POST {{baseUrl}}/admin/users/USER_ID/unlock
Authorization: Bearer {{adminToken}}

### 10.3 Verify user email
# @name verifyUserEmail
POST {{baseUrl}}/admin/users/USER_ID/verify-email
Authorization: Bearer {{adminToken}}

### 10.4 Verify user phone
# @name verifyUserPhone
POST {{baseUrl}}/admin/users/USER_ID/verify-phone
Authorization: Bearer {{adminToken}}

### =============================================================
### 11. VALIDATION TESTS - KIỂM TRA VALIDATION
### =============================================================

### 11.1 Tạo user thiếu FirstName (validation error)
# @name createUserMissingFirstName
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "lastName": "Test",
  "email": "test@example.com",
  "password": "Test123!",
  "role": 1
}

### 11.2 Tạo user thiếu LastName (validation error)
# @name createUserMissingLastName
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Test",
  "email": "test@example.com",
  "password": "Test123!",
  "role": 1
}

### 11.3 Tạo user thiếu Email (validation error)
# @name createUserMissingEmail
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User",
  "password": "Test123!",
  "role": 1
}

### 11.4 Tạo user với Email không hợp lệ (validation error)
# @name createUserInvalidEmail
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User",
  "email": "invalid-email",
  "password": "Test123!",
  "role": 1
}

### 11.5 Tạo user thiếu Password (validation error)
# @name createUserMissingPassword
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User",
  "email": "test@example.com",
  "role": 1
}

### 11.6 Tạo user với Password quá ngắn (validation error)
# @name createUserShortPassword
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User",
  "email": "test@example.com",
  "password": "12",
  "role": 1
}

### 11.7 Tạo user thiếu Role (validation error)
# @name createUserMissingRole
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User",
  "email": "test@example.com",
  "password": "Test123!"
}

### 11.8 Tạo user với PhoneNumber không hợp lệ (validation error)
# @name createUserInvalidPhone
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User",
  "email": "test@example.com",
  "password": "Test123!",
  "phoneNumber": "invalid-phone",
  "role": 1
}

### 11.9 Tạo staff thiếu CCCD (nếu required)
# @name createStaffMissingCCCD
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "Staff",
  "email": "teststaff@sakurahome.com",
  "password": "Test123!",
  "role": 2,
  "baseSalary": 15000000
}

### 11.10 Tạo user với CCCD quá dài (validation error)
# @name createUserLongCCCD
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User",
  "email": "test@example.com",
  "password": "Test123!",
  "role": 2,
  "nationalIdCard": "123456789012345678901"
}

### 11.11 Tạo user với BaseSalary âm (validation error)
# @name createUserNegativeSalary
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "Staff",
  "email": "test@example.com",
  "password": "Test123!",
  "role": 2,
  "nationalIdCard": "123456789012",
  "baseSalary": -1000000
}

### 11.12 Tạo user với InitialPoints âm (validation error)
# @name createUserNegativePoints
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "Customer",
  "email": "test@example.com",
  "password": "Test123!",
  "role": 1,
  "initialPoints": -100
}

### =============================================================
### 12. ERROR HANDLING - KIỂM TRA XỬ LÝ LỖI
### =============================================================

### 12.1 Tạo user với email đã tồn tại (conflict)
# @name createUserDuplicateEmail
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User",
  "email": "admin@sakurahome.com",
  "password": "Test123!",
  "role": 1
}

### 12.2 Tạo user với CCCD đã tồn tại (conflict)
# @name createUserDuplicateCCCD
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "Staff",
  "email": "newstaff@sakurahome.com",
  "password": "Test123!",
  "role": 2,
  "nationalIdCard": "123456789012"
}

### 12.3 Lấy user không tồn tại (not found)
# @name getUserNotFound
GET {{baseUrl}}/admin/users/00000000-0000-0000-0000-000000000000/detail
Authorization: Bearer {{adminToken}}

### 12.4 Update user không tồn tại (not found)
# @name updateUserNotFound
PUT {{baseUrl}}/admin/users/00000000-0000-0000-0000-000000000000/update
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Test"
}

### 12.5 Delete user không tồn tại (not found)
# @name deleteUserNotFound
DELETE {{baseUrl}}/admin/users/00000000-0000-0000-0000-000000000000/delete
Authorization: Bearer {{adminToken}}

### 12.6 Truy cập API admin không có token (unauthorized)
# @name getUsersNoToken
GET {{baseUrl}}/admin/users/list?pageNumber=1&pageSize=10

### 12.7 Truy cập API admin với token không hợp lệ (unauthorized)
# @name getUsersInvalidToken
GET {{baseUrl}}/admin/users/list?pageNumber=1&pageSize=10
Authorization: Bearer invalid_token_here

### 12.8 Truy cập API admin với token hết hạn (unauthorized)
# @name getUsersExpiredToken
GET {{baseUrl}}/admin/users/list?pageNumber=1&pageSize=10
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.expired_token

### 12.9 Customer cố truy cập API admin (forbidden) - Cần login customer trước
# @name getUsersCustomerToken
GET {{baseUrl}}/admin/users/list?pageNumber=1&pageSize=10
Authorization: Bearer CUSTOMER_TOKEN_HERE

### 12.10 Page number không hợp lệ (validation error)
# @name getUsersInvalidPageNumber
GET {{baseUrl}}/admin/users/list?pageNumber=0&pageSize=10
Authorization: Bearer {{adminToken}}

### 12.11 Page size không hợp lệ (validation error)
# @name getUsersInvalidPageSize
GET {{baseUrl}}/admin/users/list?pageNumber=1&pageSize=0
Authorization: Bearer {{adminToken}}

### 12.12 Page size quá lớn (validation error)
# @name getUsersLargePageSizeLimit
GET {{baseUrl}}/admin/users/list?pageNumber=1&pageSize=101
Authorization: Bearer {{adminToken}}

### =============================================================
### 13. BONUS - CÁC TÌNH HUỐNG THỰC TẾ
### =============================================================

### 13.1 Quy trình tạo Customer hoàn chỉnh
# Bước 1: Check email
GET {{baseUrl}}/admin/users/check-email?email=newcustomer@example.com
Authorization: Bearer {{adminToken}}

###
# Bước 2: Tạo customer nếu email available
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "New",
  "lastName": "Customer",
  "email": "newcustomer@example.com",
  "password": "Customer123!",
  "phoneNumber": "+84906789012",
  "role": 1,
  "tier": 1,
  "isActive": true
}

### 13.2 Quy trình tạo Staff hoàn chỉnh
# Bước 1: Check email
GET {{baseUrl}}/admin/users/check-email?email=newstaff@sakurahome.com
Authorization: Bearer {{adminToken}}

###
# Bước 2: Check CCCD
GET {{baseUrl}}/admin/users/check-cccd?nationalIdCard=456789012345
Authorization: Bearer {{adminToken}}

###
# Bước 3: Tạo staff nếu email và CCCD available
POST {{baseUrl}}/admin/users/create
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "New",
  "lastName": "Staff",
  "email": "newstaff@sakurahome.com",
  "password": "Staff123!",
  "phoneNumber": "+84907890123",
  "role": 2,
  "nationalIdCard": "456789012345",
  "hireDate": "2024-06-01",
  "baseSalary": 16000000,
  "isActive": true
}

### 13.3 Quy trình cập nhật thông tin user
# Bước 1: Lấy thông tin hiện tại
GET {{baseUrl}}/admin/users/USER_ID/detail
Authorization: Bearer {{adminToken}}

###
# Bước 2: Update các field cần thiết
PUT {{baseUrl}}/admin/users/USER_ID/update
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "firstName": "Updated",
  "lastName": "Name",
  "phoneNumber": "+84908901234"
}

###
# Bước 3: Verify lại thông tin đã update
GET {{baseUrl}}/admin/users/USER_ID/detail
Authorization: Bearer {{adminToken}}

### 13.4 Quy trình khóa/mở khóa user
# Bước 1: Vô hiệu hóa user
PATCH {{baseUrl}}/admin/users/USER_ID/status
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "isActive": false
}

###
# Bước 2: Kích hoạt lại user
PATCH {{baseUrl}}/admin/users/USER_ID/status
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "isActive": true
}

### 13.5 Quy trình reset password
# Bước 1: Reset password
POST {{baseUrl}}/admin/users/USER_ID/reset-password
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "newPassword": "NewSecurePassword123!"
}

###
# Bước 2: Verify email để thông báo cho user
POST {{baseUrl}}/admin/users/USER_ID/verify-email
Authorization: Bearer {{adminToken}}

### =============================================================
### KẾT THÚC - END OF ADMIN USER MANAGEMENT TEST SUITE
### =============================================================
#
# 📝 GHI CHÚ:
# - Thay thế USER_ID, CUSTOMER_USER_ID, STAFF_USER_ID bằng ID thực tế
# - Token admin cần được cập nhật thường xuyên khi hết hạn
# - Test validation và error handling để đảm bảo API hoạt động đúng
# - Kiểm tra response status code và message cho mỗi request
# - Sử dụng traceId từ response để debug nếu có lỗi
#
# 🎯 MỤC ĐÍCH:
# - Comprehensive testing cho admin user management
# - Kiểm tra tất cả các tính năng CRUD
# - Validation và error handling
# - Security và authorization
# - Real-world scenarios
#
### =============================================================
